<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Manga-Laya</title>
    <link
      rel="icon"
      href="rpy-abstract-technology-circle-setting-logo-design-on-black-background-rpy-creative-initials-letter-logo-concept-vector.jpg"
    />
    <link rel="stylesheet" href="library.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Berkshire+Swash&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container">
      <header class="head">
        <h1>Manga-Laya</h1>
        <button class="theme-toggle" onclick="toggleTheme()">
          <i id="themeIcon" class="bi bi-brightness-high"></i>
        </button>
      </header>

      <div class="access">
        <div class="enter" onclick="askQuestion()">Librarian</div>
        <div class="enter"><a href="user.html">Users</a></div>
      </div>
    </div>

    <script>
      function askQuestion() {
        const questionBox = document.createElement("div");
        questionBox.classList.add("question-box");
        questionBox.innerHTML = `
          <p>The Secret of Jiraiya and Hatake Kakashi</p>
          <input type="text" id="answer" placeholder="Enter your answer">
          <button onclick="checkAnswer()">Submit</button>
        `;

        document.body.appendChild(questionBox);
      }

      function checkAnswer() {
        const answer = document.getElementById("answer").value;
        if (answer && answer.trim().toLowerCase() === "106") {
          window.location.href = "hogwarts.html";
        } else {
          alert("Incorrect answer. Try again.");
          questionBox.remove("question-box");
        }
      }

      function toggleTheme() {
        let body = document.body;
        let themeIcon = document.getElementById("themeIcon");

        // Toggle the theme
        body.classList.toggle("dark-mode");

        // Check the current mode and update localStorage
        if (body.classList.contains("dark-mode")) {
          localStorage.setItem("theme", "dark");
          themeIcon.classList.remove("bi-brightness-high");
          themeIcon.classList.add("bi-moon-stars-fill");
        } else {
          localStorage.setItem("theme", "light");
          themeIcon.classList.remove("bi-moon-stars-fill");
          themeIcon.classList.add("bi-brightness-high");
        }
      }

      // Apply saved theme on page load
      window.onload = function () {
        let savedTheme = localStorage.getItem("theme");
        let body = document.body;
        let themeIcon = document.getElementById("themeIcon");

        if (savedTheme === "dark") {
          body.classList.add("dark-mode");
          themeIcon.classList.remove("bi-brightness-high");
          themeIcon.classList.add("bi-moon-stars-fill");
        } else {
          body.classList.remove("dark-mode");
          themeIcon.classList.remove("bi-moon-stars-fill");
          themeIcon.classList.add("bi-brightness-high");
        }
      };
    </script>
  </body>
</html>
